<template name="meteorOS">
    <div id="meteor-os">
    </div>
    {{> meteorOSFooter}}
</template>

<template name="meteorOSFooter">
<div class="navbar-sm">
    <div class="wm-bottom navbar navbar-fixed-bottom navbar-custom navbar-inverse navbar-static-top navbar-container">
        <div class="collapse navbar-collapse">
            {{#if currentUser}}
                <ul class="nav navbar-nav" id="created_windows">
                    <li class="dropdown "><a style="cursor: pointer" id="drop1" data-toggle="dropdown" class="dropdown-toggle" role="button">Meteor OS <b class="caret grey-caret"></b></a>
                        {{> meteorOSStartMenu}}
                    </li>
                </ul>
            {{/if}}
        </div><!--/.nav-collapse -->
    </div>
</div>
</template>

<template name="meteorOSStartMenu">
    <ul role="menu" id="meteor_os_start_menu" class="dropdown-menu">
        {{> meteorOSStartMenuApplications}}
        <li class="divider"></li>
        <li><a id="meteor_os_logout_button" style="cursor: pointer">Logout, {{currentUser.username}}</a></li>
    </ul>
</template>

<template name="meteorOSStartMenuApplications">
    <li class="dropdown-submenu">
        <a style="cursor: pointer">Applications</a>
        <ul class="dropdown-menu dropdown-context-sub">
            {{> meteorOSStartMenuApplicationsHelper}}
        </ul>
    </li>
</template>

<template name="meteorOSStartMenuApplicationsHelper">
    {{#with packagesContext}}
        {{#each packages}}
            <li><a style="cursor: pointer">{{packageName}}</a></li>
        {{/each}}
    {{/with}}
</template>
